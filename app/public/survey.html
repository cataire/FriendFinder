
<!DOCTYPE html>
<html lang="en">
<head>
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/style/style.css">

	<title>Friends Finder</title>

	
	
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<body>





<div class="container wrapper">
	<div class="row"> 
		<div class="col-lg-12">
			<h1>Survey Questions</h1>

  <form>
    <div class="form-group">
    <label for="formGroupExampleInput">Your Name (Required)</label>
    <input type="text" class="form-control" id="friendName" required>
  </div>
  <div class="form-group">
    <label for="formGroupExampleInput2">Link to the photo (Required)</label>
    <input type="text" class="form-control" id="pictureLink" required>
  </div>

	<div class="form-group">
    <h2>Question 1</h2>
	<p>I can do magic tricks with ice</p>
  <select class="custom-select q1">
  <option selected value="">Please select</option>
  <option value="1">1 (Strongly disagree)</option>
  <option value="2">2 (Somewhat disagree)</option>
  <option value="3">3 (Neutral)</option>
  <option value="4">4 (Somewhat agree)</option>
  <option value="5">5 (Strongly agree)</option>
</select>
</div>

  	<h2>Question 2</h2>
	<p>I have twelve brothers</p>
  <select class="custom-select q2">
  <option selected value="">Please select</option>
  <option value="1">1 (Strongly disagree)</option>
  <option value="2">2 (Somewhat disagree)</option>
  <option value="3">3 (Neutral)</option>
  <option value="4">4 (Somewhat agree)</option>
  <option value="5">5 (Strongly agree)</option>
</select>

  	<h2>Question 3</h2>
	<p>I love carrots</p>
  <select class="custom-select q3">
  <option selected value="">Please select</option>
  <option value="1">1 (Strongly disagree)</option>
  <option value="2">2 (Somewhat disagree)</option>
  <option value="3">3 (Neutral)</option>
  <option value="4">4 (Somewhat agree)</option>
  <option value="5">5 (Strongly agree)</option>
</select>

  	<h2>Question 4</h2>
	<p>I have no trouble making decisions</p>
  <select class="custom-select q4">
  <option selected value="">Please select</option>
  <option value="1">1 (Strongly disagree)</option>
  <option value="2">2 (Somewhat disagree)</option>
  <option value="3">3 (Neutral)</option>
  <option value="4">4 (Somewhat agree)</option>
  <option value="5">5 (Strongly agree)</option>
</select>

  	<h2>Question 5</h2>
	<p>I love summer and I have a nice sense of humor</p>
  <select class="custom-select q5">
  <option selected value="">Please select</option>
  <option value="1">1 (Strongly disagree)</option>
  <option value="2">2 (Somewhat disagree)</option>
  <option value="3">3 (Neutral)</option>
  <option value="4">4 (Somewhat agree)</option>
  <option value="5">5 (Strongly agree)</option>
</select>

  	<h2>Question 6</h2>
	<p>I was raised by trolls</p>
  <select class="custom-select q6">
  <option selected value="">Please select</option>
  <option value="1">1 (Strongly disagree)</option>
  <option value="2">2 (Somewhat disagree)</option>
  <option value="3">3 (Neutral)</option>
  <option value="4">4 (Somewhat agree)</option>
  <option value="5">5 (Strongly agree)</option>
</select>

    	<h2>Question 7</h2>
	<p>I turn into a rock when I sleep</p>
  <select class="custom-select q7">
  <option selected value="">Please select</option>
  <option value="1">1 (Strongly disagree)</option>
  <option value="2">2 (Somewhat disagree)</option>
  <option value="3">3 (Neutral)</option>
  <option value="4">4 (Somewhat agree)</option>
  <option value="5">5 (Strongly agree)</option>
  </select>


    	<h2>Question 8</h2>
	<p>I have heels and I'm not a girl</p>
  <select class="custom-select q8">
  <option selected value="">Please select</option>
  <option value="1">1 (Strongly disagree)</option>
  <option value="2">2 (Somewhat disagree)</option>
  <option value="3">3 (Neutral)</option>
  <option value="4">4 (Somewhat agree)</option>
  <option value="5">5 (Strongly agree)</option>
</select>

    	<h2>Question 9</h2>
	<p>I love making soap</p>
  <select class="custom-select q9">
  <option selected value="">Please select</option>
  <option value="1">1 (Strongly disagree)</option>
  <option value="2">2 (Somewhat disagree)</option>
  <option value="3">3 (Neutral)</option>
  <option value="4">4 (Somewhat agree)</option>
  <option value="5">5 (Strongly agree)</option>
</select>

    	<h2>Question 10</h2>
	<p>I'm a gigantic snowman</p>
  <select class="custom-select q10">
  <option selected value="">Please select</option>
  <option value="1">1 (Strongly disagree)</option>
  <option value="2">2 (Somewhat disagree)</option>
  <option value="3">3 (Neutral)</option>
  <option value="4">4 (Somewhat agree)</option>
  <option value="5">5 (Strongly agree)</option>
  </select>

  <a class="btn btn-lg submit" role="button">Submit</a>

</form>
</div>
</div>

<div id="myModal" class="modal fade">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Your Best Match</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h2 class="modalName"><h2>
        <img class="modalPicture">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

</div>









<script type="text/javascript">

    $(".submit").on("click", function(event) {
      event.preventDefault();

       function validateForm() {
                var isValid = true;
                $('.form-control').each(function() {
                    if ($(this).val() === "")
                        isValid = false
                })
                $('.custom-select').each(function() {
                    if ($(this).val() === "")
                        isValid = false;
                });
              
                return isValid;
            }
        
            if (validateForm() == true) {
          
            
                     var newFriend = 
                     {

                      friendName: $("#friendName").val().trim(),
                      friendPicture: $("#pictureLink").val().trim(),
                      answers: [$(".q1").val(),
                               $(".q2").val(),
                               $(".q3").val(),
                               $(".q4").val(),
                               $(".q5").val(),
                               $(".q6").val(),
                               $(".q7").val(),
                               $(".q8").val(),
                               $(".q9").val(),
                               $(".q10").val()
                               ],
              
 
                      };

                      fetch("/api/friends", 
                      {

                      method: 'POST', // or 'PUT'
                      body: JSON.stringify(newFriend), 
                      headers: new Headers({
                      'Content-Type': 'application/json'
                                          })
                      }).then(res => res.json(newFriend))


                      .catch(error => console.error('Error:', error))

                      .then(function(response)
                            {

                            $(".modalName").text(response.friendName);
                            $(".modalPicture").attr("src", response.friendPicture);
                            $('#myModal').modal();
                            console.log('Success:', response);

                      });

    

 
                      $("#friendName").val("");
                      $("#pictureLink").val("");
                      $(".q1").val("");
                      $(".q2").val("");
                      $(".q3").val("");
                      $(".q4").val("");
                      $(".q5").val("");
                      $(".q6").val("");
                      $(".q7").val("");
                      $(".q8").val("");
                      $(".q9").val("");
                      $(".q10").val("");



              }

    else {
      alert("Please fill out the form");
    }

          


    });

</script>



<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</body>
</html>

